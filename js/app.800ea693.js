(function(t){function e(e){for(var n,r,c=e[0],o=e[1],l=e[2],d=0,h=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&h.push(s[r][0]),s[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,c=1;c<a.length;c++){var o=a[c];0!==s[o]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},s={app:0},i=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("85ec"),s=a.n(n);s.a},"0616":function(t,e,a){"use strict";var n=a("16bb"),s=a.n(n);s.a},"09e0":function(t,e,a){},1:function(t,e){},"16bb":function(t,e,a){},"1a0c":function(t,e,a){},2:function(t,e){},"2b56":function(t,e,a){"use strict";var n=a("09e0"),s=a.n(n);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("nav",{staticClass:"navbar is-primary has-shadow",attrs:{role:"navigation","aria-label":"main navigation"}},[t._m(0),a("div",{staticClass:"navbar-menu",attrs:{id:"navbarBasicExample"}},[a("div",{staticClass:"navbar-start"},[a("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[t._v("Home")]),a("a",{staticClass:"navbar-item",attrs:{href:"https://github.com/FenyoLab/transposcope/wiki",target:"_blank"}},[t._v("Documentation")])],1)])]),a("router-view")],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar-brand"},[a("a",{staticClass:"navbar-item",attrs:{href:"/"}},[a("p",{staticClass:"title has-text-light"},[t._v("TranspoScope")])]),a("a",{staticClass:"navbar-burger burger",attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"}},[a("span",{attrs:{"aria-hidden":"true"}}),a("span",{attrs:{"aria-hidden":"true"}}),a("span",{attrs:{"aria-hidden":"true"}})])])}],r=(a("034f"),a("2877")),c={},o=Object(r["a"])(c,s,i,!1,null,null,null),l=o.exports,u=(a("fb98"),a("8c4f")),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"box",staticStyle:{height:"100%"}},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.outer,expression:"outer"}],attrs:{lazy:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.outer=e.target.multiple?a:a[0]}}},t._l(t.samples,(function(e,n,s){return a("option",{key:s},[t._v(t._s(n))])})),0)]),t.outer?a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.inner,expression:"inner"}],attrs:{lazy:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.inner=e.target.multiple?a:a[0]}}},t._l(t.samples[t.outer],(function(e,n,s){return a("option",{key:s},[t._v(t._s(n))])})),0)]):t._e(),t.inner?a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.experiment,expression:"experiment"}],attrs:{lazy:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.experiment=e.target.multiple?a:a[0]}}},t._l(t.samples[t.outer][t.inner],(function(e,n,s){return a("option",{key:s},[t._v(t._s(n))])})),0)]):t._e(),a("router-link",{staticClass:"navbar-item",attrs:{to:"/dashboard/"+t.outer+"/"+t.inner+"/"+t.experiment}},[a("button",{staticClass:"button"},[t._v("Go")])])],1)])},h=[],p=(a("b64b"),a("d3b7"),a("bc3a")),f={name:"home",data:function(){return{samples:{},outer:"",inner:"",experiment:""}},mounted:function(){var t=this;p.get("data/manifest.json").then((function(e){t.samples=e.data,t.samples&&(t.outer=Object.keys(t.samples)[0]),t.outer&&(t.inner=Object.keys(t.samples[t.outer])[0]),t.inner&&(t.experiment=Object.keys(t.samples[t.outer][t.inner])[0])})).catch((function(t){console.error(t)})).finally((function(){}))}},m=f,g=Object(r["a"])(m,d,h,!1,null,null,null),v=g.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"section",staticStyle:{height:"calc(100vh - 52px)"}},[a("div",{staticClass:"columns has-text-grey-dark",staticStyle:{height:"100%"}},[a("div",{staticClass:"column",staticStyle:{height:"100%",width:"100%"}},[a("Visualization",{staticStyle:{height:"60%"},attrs:{group:t.group,locus:t.locus}}),a("div",{staticClass:"columns",staticStyle:{height:"40%"}},[a("div",{staticClass:"column is-two-thirds",staticStyle:{height:"100%"}},[a("BaseUI")],1),a("div",{staticClass:"column"},[a("BaseTable",{attrs:{group:t.group,locus:t.locus}})],1)])],1)])])},y=[],x=(a("a15b"),a("5319"),a("ddb0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box is-paddingless",staticStyle:{"overflow-y":"scroll",height:"100%"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterKey,expression:"filterKey"}],staticClass:"input",attrs:{type:"text",placeholder:"Search locus"},domProps:{value:t.filterKey},on:{input:function(e){e.target.composing||(t.filterKey=e.target.value)}}}),a("table",{staticClass:"table is-bordered is-narrow is-fullwidth is-hoverable table is-striped"},[a("thead",[a("tr",{staticClass:"locus"},t._l(t.columns,(function(e){return a("th",{key:e,on:{click:function(a){return t.sortBy(e)}}},[t._v(" "+t._s(e)+" "),a("span",{staticClass:"arrow",class:t.sortOrders[e]>0?"asc":"dsc"})])})),0)]),a("tbody",{staticClass:"is-size-7"},t._l(t.filteredLoci,(function(e,n){return a("tr",{key:n,class:{"locus is-selected":n==t.selected_idx},on:{click:function(a){return t.selectLoci(n,e["ID"])}}},t._l(t.columns,(function(n){return a("td",{key:n,domProps:{innerHTML:t._s(e[n])}})})),0)})),0)])])}),b=[],j=(a("4de4"),a("c740"),a("caad"),a("d81d"),a("fb6a"),a("4e82"),a("e25e"),a("2532"),a("1276"),a("159b"),a("bc3a")),w=a("2ef0"),S={name:"BaseTable",props:{group:String,locus:String},data:function(){var t={},e=["ID","Gene","P"];return e.forEach((function(e){t[e]=1})),{columns:e,contents:[{ID:"",Gene:"",P:""}],sortKey:"",filterKey:"",sortOrders:t,selected_idx:-1}},computed:{filteredLoci:function(){var t=this,e=this.sortKey,a=this.sortOrders[e]||1,n=w.filter(this.contents,(function(e){return e.ID.includes(t.filterKey)}));return e&&(n=n.slice().sort((function(t,n){if(t=t[e],n=n[e],"ID"==e){t=t.split(":"),n=n.split(":");var s=parseInt(t[0].replace("chr","")),i=parseInt(n[0].replace("chr",""));return s!==i?(s>i?1:-1)*a:(t[1]===n[1]?0:t[1]>n[1]?1:-1)*a}return(t===n?0:t>n?1:-1)*a}))),n}},watch:{filteredLoci:function(){this.selected_idx=this.findLocus()},locus:function(){this.locus||this.selectLoci(0,this.filteredLoci[0].ID),this.selected_idx=this.findLocus()},group:function(){var t=this;j.get(""+"data/".concat(this.group,"/table_info.json")).then((function(e){t.columns=e.data.heading;var a={};t.columns.forEach((function(t){a[t]=1})),t.sortOrders=a,t.contents=e.data.data.map((function(e){return w.zipObject(t.columns,e)})),t.locus||t.selectLoci(0,t.filteredLoci[0].ID)})).catch((function(t){console.error(t)})).finally((function(){}))}},methods:{findLocus:function(){var t=this;return w.findIndex(this.filteredLoci,(function(e){return e.ID===t.locus.replace("_",":")}))},selectLoci:function(t,e){this.selected_idx!==t&&this.$router.push({query:{locus:e.replace(":","-")}})},sortBy:function(t){this.sortKey=t,this.sortOrders[t]*=-1}}},k=S,L=(a("815b"),Object(r["a"])(k,x,b,!1,null,"ba57eed2",null)),O=L.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box is-paddingless",staticStyle:{height:"100%"}},[a("div",{staticClass:"tabs is-marginless"},[a("ul",[a("li",{class:{"is-active":"stats"==t.active},on:{click:function(e){return t.setActive("stats")}}},[a("a",[t._v("Stats")])]),a("li",{class:{"is-active":"display"==t.active},on:{click:function(e){return t.setActive("display")}}},[a("a",[t._v("Display")])]),a("li",{class:{"is-active":"histograms"==t.active},on:{click:function(e){return t.setActive("histograms")}}},[a("a",[t._v("Histograms")])]),a("li",{class:{"is-active":"styles"==t.active},on:{click:function(e){return t.setActive("styles")}}},[a("a",[t._v("Style")])])])]),a("div",{staticStyle:{height:"calc(100% - 41px)",overflow:"auto"}},[a("keep-alive",[a(t.dynamicComponent,{tag:"component",staticStyle:{padding:"5px"},attrs:{type:t.type}})],1)],1)])},C=[],F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-3"},[a("div",{staticClass:"field"},[a("label",{staticClass:"checkbox has-text-weight-bold"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAllGenome,expression:"selectAllGenome"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selectAllGenome)?t._i(t.selectAllGenome,null)>-1:t.selectAllGenome},on:{change:function(e){var a=t.selectAllGenome,n=e.target,s=!!n.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);n.checked?r<0&&(t.selectAllGenome=a.concat([i])):r>-1&&(t.selectAllGenome=a.slice(0,r).concat(a.slice(r+1)))}else t.selectAllGenome=s}}}),t._v(" Genome (All) ")])]),t._l(t.genomeOrienations,(function(e,n){return a("div",{key:e,staticClass:"field"},[a("label",{staticClass:"checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedOrientations,expression:"selectedOrientations"}],attrs:{type:"checkbox"},domProps:{value:e,checked:Array.isArray(t.selectedOrientations)?t._i(t.selectedOrientations,e)>-1:t.selectedOrientations},on:{change:function(a){var n=t.selectedOrientations,s=a.target,i=!!s.checked;if(Array.isArray(n)){var r=e,c=t._i(n,r);s.checked?c<0&&(t.selectedOrientations=n.concat([r])):c>-1&&(t.selectedOrientations=n.slice(0,c).concat(n.slice(c+1)))}else t.selectedOrientations=i}}}),t._v(" "+t._s(n)+" ")])])}))],2),a("div",{staticClass:"column is-3"},[a("div",{staticClass:"field"},[a("label",{staticClass:"checkbox has-text-weight-bold"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAllLine,expression:"selectAllLine"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selectAllLine)?t._i(t.selectAllLine,null)>-1:t.selectAllLine},on:{change:function(e){var a=t.selectAllLine,n=e.target,s=!!n.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);n.checked?r<0&&(t.selectAllLine=a.concat([i])):r>-1&&(t.selectAllLine=a.slice(0,r).concat(a.slice(r+1)))}else t.selectAllLine=s}}}),t._v(" LINE-1 (All) ")])]),t._l(t.lineOrientations,(function(e,n){return a("div",{key:e,staticClass:"field"},[a("label",{staticClass:"checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedOrientations,expression:"selectedOrientations"}],attrs:{type:"checkbox"},domProps:{value:e,checked:Array.isArray(t.selectedOrientations)?t._i(t.selectedOrientations,e)>-1:t.selectedOrientations},on:{change:function(a){var n=t.selectedOrientations,s=a.target,i=!!s.checked;if(Array.isArray(n)){var r=e,c=t._i(n,r);s.checked?c<0&&(t.selectedOrientations=n.concat([r])):c>-1&&(t.selectedOrientations=n.slice(0,c).concat(n.slice(c+1)))}else t.selectedOrientations=i}}}),t._v(" "+t._s(n)+" ")])])}))],2),a("div",{staticClass:"column is-3"},[a("div",{staticClass:"field"},[a("label",{staticClass:"checkbox has-text-weight-bold"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAllJunction,expression:"selectAllJunction"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selectAllJunction)?t._i(t.selectAllJunction,null)>-1:t.selectAllJunction},on:{change:function(e){var a=t.selectAllJunction,n=e.target,s=!!n.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);n.checked?r<0&&(t.selectAllJunction=a.concat([i])):r>-1&&(t.selectAllJunction=a.slice(0,r).concat(a.slice(r+1)))}else t.selectAllJunction=s}}}),t._v(" Junction (All) ")])]),t._l(t.junctionOrientations,(function(e,n){return a("div",{key:e,staticClass:"field"},[a("label",{staticClass:"checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedOrientations,expression:"selectedOrientations"}],attrs:{type:"checkbox"},domProps:{value:e,checked:Array.isArray(t.selectedOrientations)?t._i(t.selectedOrientations,e)>-1:t.selectedOrientations},on:{change:function(a){var n=t.selectedOrientations,s=a.target,i=!!s.checked;if(Array.isArray(n)){var r=e,c=t._i(n,r);s.checked?c<0&&(t.selectedOrientations=n.concat([r])):c>-1&&(t.selectedOrientations=n.slice(0,c).concat(n.slice(c+1)))}else t.selectedOrientations=i}}}),t._v(" "+t._s(n)+" ")])])}))],2)])])},J=[],E=(a("99af"),a("2ef0")),A={name:"HistogramSelection",data:function(){return{genomeOrienations:{"Genome | Genome":"gg","Genome | Junction":"gjG","Genome | LINE-1":"glG","Genome | Junction (Bridging)":"g_jG","Genome | Genome (Bridging)":"g_g","Genome | Unmapped":"gn"},lineOrientations:{"LINE-1 | LINE-1":"ll","Genome | LINE-1":"glL","Junction | LINE-1":"jlL","LINE-1 | Unmapped":"ln"},junctionOrientations:{"Junction | Junction":"jj","Genome | Junction":"gjJ","Junction | LINE-1":"jlJ","Genome | Junction (Bridging)":"g_jJ","Junction | Junction (Bridging, 5p)":"j_j5","Junction | Junction (Bridging, 3p)":"j_j3","Junction | Unmapped":"jn"},selectedOrientations:["gg","jj","ll","gn","jn","ln","g_g","g_jG","g_jJ","gjG","gjJ","glL","glG","jlJ","jlL","j_j5","j_j3"]}},watch:{selectedOrientations:function(){this.$root.$emit("updatedOrientations",this.selectedOrientations)}},computed:{selectAllGenome:{get:function(){return!!this.selectedOrientations&&E.intersection(this.selectedOrientations,E.values(this.genomeOrienations)).length==E.values(this.genomeOrienations).length},set:function(t){var e=E.difference(this.selectedOrientations,E.values(this.genomeOrienations));t&&(e=E.concat(e,E.values(this.genomeOrienations))),this.selectedOrientations=e}},selectAllLine:{get:function(){return!!this.selectedOrientations&&E.intersection(this.selectedOrientations,E.values(this.lineOrientations)).length==E.values(this.lineOrientations).length},set:function(t){var e=E.difference(this.selectedOrientations,E.values(this.lineOrientations));t&&(e=E.concat(e,E.values(this.lineOrientations))),this.selectedOrientations=e}},selectAllJunction:{get:function(){return!!this.selectedOrientations&&E.intersection(this.selectedOrientations,E.values(this.junctionOrientations)).length==E.values(this.junctionOrientations).length},set:function(t){var e=E.difference(this.selectedOrientations,E.values(this.junctionOrientations));t&&(e=E.concat(e,E.values(this.junctionOrientations))),this.selectedOrientations=e}}}},G=A,T=Object(r["a"])(G,F,J,!1,null,null,null),$=T.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedType,expression:"selectedType"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedType=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Please select one")]),a("option",[t._v("stacked")]),a("option",[t._v("stream")])])])},q=[],N={name:"StyleSettings",data:function(){return{selectedType:"stacked"}},watch:{selectedType:function(){this.$root.$emit("updateChartType",this.selectedType)}}},z=N,I=Object(r["a"])(z,R,q,!1,null,null,null),U=I.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"control"},[a("label",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentView,expression:"currentView"}],attrs:{type:"radio",value:"histogram",name:"type",checked:""},domProps:{checked:t._q(t.currentView,"histogram")},on:{change:function(e){t.currentView="histogram"}}}),t._v(" Histograms ")]),a("label",{staticClass:"radio",attrs:{disabled:t.isTipseq}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentView,expression:"currentView"}],attrs:{type:"radio",value:"5p_junction",name:"type",disabled:t.isTipseq},domProps:{checked:t._q(t.currentView,"5p_junction")},on:{change:function(e){t.currentView="5p_junction"}}}),t._v(" Mobile Element 5' Junction Reads ")]),a("label",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentView,expression:"currentView"}],attrs:{type:"radio",value:"3p_junction",name:"type"},domProps:{checked:t._q(t.currentView,"3p_junction")},on:{change:function(e){t.currentView="3p_junction"}}}),t._v(" Mobile Element 3' Junction Reads ")])])])},V=[],B={name:"Display",props:{type:String},data:function(){return{currentView:"histogram"}},mounted:function(){var t=this;this.$root.$on("resetView",(function(){t.currentView="histogram"}))},watch:{currentView:function(){this.$root.$emit("updatedView",this.currentView)}},computed:{isTipseq:function(){return"tipseq"===this.type}}},D=B,H=Object(r["a"])(D,M,V,!1,null,null,null),X=H.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-top":"20px",width:"100%"}},[a("table",{staticClass:"table is-size-6 is-narrow is-fullwidth is-bordered is-striped"},[a("col",{attrs:{width:"30%"}}),a("col",{attrs:{width:"70%"}}),a("tbody",[a("tr",[a("td",{staticClass:"has-text-weight-bold"},[t._v("Chromosome:")]),a("td",{attrs:{align:"right"}},[t._v(t._s(t.info["chrom"]))])]),a("tr",[a("td",{staticClass:"has-text-weight-bold"},[t._v("Five Prime Flanking Start:")]),a("td",{attrs:{align:"right"}},[t._v(t._s(t.info["fivePTS"]))])]),a("tr",[a("td",{staticClass:"has-text-weight-bold"},[t._v("Five Prime Flanking End:")]),a("td",{attrs:{align:"right"}},[t._v(t._s(t.info["fivePTE"]))])]),a("tr",[a("td",{staticClass:"has-text-weight-bold"},[t._v("Three Prime Flanking Start:")]),a("td",{attrs:{align:"right"}},[t._v(t._s(t.info["threePTS"]))])]),a("tr",[a("td",{staticClass:"has-text-weight-bold"},[t._v("Three Prime Flanking End:")]),a("td",{attrs:{align:"right"}},[t._v(t._s(t.info["threePTE"]))])]),a("tr",[a("td",{staticClass:"has-text-weight-bold"},[t._v("LINE-1 Reference Start:")]),a("td",{attrs:{align:"right"}},[t._v(t._s(t.info["L1RS"]))])]),a("tr",[a("td",{staticClass:"has-text-weight-bold"},[t._v("LINE-1 Reference End:")]),a("td",{attrs:{align:"right"}},[t._v(t._s(t.info["L1RE"]))])]),t._l(t.info.info,(function(e,n){return a("tr",{key:n},[a("td",{staticClass:"has-text-weight-bold"},[t._v(t._s(n))]),a("td",{staticStyle:{"max-width":"300px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},attrs:{align:"right"}},[t._v(t._s(e))])])}))],2)])])},Y=[],W={name:"StyleSettings",data:function(){return{info:{}}},mounted:function(){var t=this;this.$root.$on("updateStats",(function(e){t.info=e}))}},Q=W,Z=Object(r["a"])(Q,K,Y,!1,null,null,null),tt=Z.exports,et={name:"BaseUI",props:{},data:function(){return{active:"stats",type:""}},methods:{setActive:function(t){this.active=t}},mounted:function(){var t=this;this.$root.$on("setType",(function(e){t.type=e}))},computed:{dynamicComponent:function(){switch(this.active){case"stats":return tt;case"display":return X;case"histograms":return $;case"styles":return U}return"component-unknown"}}},at=et,nt=Object(r["a"])(at,P,C,!1,null,null,null),st=nt.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box",staticStyle:{height:"100%"}},[a("div",{staticClass:"visualization",staticStyle:{height:"100%"}},[0==t.data.length?a("progress",{staticClass:"progress is-primary",attrs:{max:"100"}}):t._e(),a("keep-alive",[0!=t.data.length?a(t.dynamicComponent,{tag:"component",attrs:{data:t.data,referenceSeq:t.referenceSeq,info:t.aesthetics}}):t._e()],1)],1)])},rt=[],ct=(a("96cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"100%"},attrs:{id:"plot"}},[null!==t.hoverPointStats?a("article",{staticClass:"base-stats message is-small is-dark",style:"top:"+t.lastHoverPoint.offsetY+"px;left:"+(t.lastHoverPoint.offsetX+60)+"px;opacity:0.9"},[t._m(0),a("div",{staticClass:"message-body"},[t._l(t.hoverPointStats.bpStat,(function(e,n){return a("p",{key:n},[t._v(" "+t._s(n)+": "+t._s(e)+" "+t._s("("+Math.floor(100*(e/t.hoverPointStats.total||0))+"%)")+" ")])})),a("p",[t._v("Total: "+t._s(t.hoverPointStats.total))]),a("p",[t._v("x: "+t._s(t.hoverPointStats.key))])],2)]):t._e(),a("svg",{attrs:{width:t.width,height:t.height}},[a("g",{style:{transform:"translate("+t.margin.left+"px, "+t.margin.top+"px"}},[a("g",{staticClass:"bases"}),a("g",{style:{transform:"translate("+t.transform.x+"px, "+t.transform.y+"px) scaleX("+t.scaleFactor+")"},on:{mousemove:t.mouseover,mouseleave:function(e){t.hoverPointStats=null}}},[t._l(t.orientations,(function(e){return a("path",{key:e,class:e,style:"fill:"+t.fills[e],attrs:{d:t.paths.area[e]}})})),t._l(t.paths.rects,(function(e){return a("rect",{key:e.name,style:"fill:"+e.color+";fill-opacity:0.2",attrs:{x:t.scaled.x(e.x[0]+.5),width:t.scaled.x(e.x[1]),y:0,height:t.padded.height,stroke:e.color,"stroke-width":1/t.scaleFactor}},[a("title",[t._v(t._s(e.name))])])})),t.hoverPointStats?a("path",{staticClass:"selector",attrs:{d:t.paths.selector}}):t._e()],2),a("g",{staticClass:"axis axis--x",on:{mousemove:t.mouseover,mouseleave:function(e){t.hoverPointStats=null}}}),a("g",{staticClass:"axis axis--y",on:{mousemove:t.mouseover,mouseleave:function(e){t.hoverPointStats=null}}}),a("g",{staticClass:"snpbases"})]),a("pattern",{attrs:{id:"PgjJ",x:0,width:5/t.scaleFactor,height:5/t.scaleFactor,patternUnits:"userSpaceOnUse",patternTransform:"scale(1 "+t.scaleFactor+")"}},[a("rect",{attrs:{x:"0",width:"5",height:"5",y:"0",fill:"#fc8803"}}),a("path",{attrs:{stroke:"white","stroke-width":.5/t.scaleFactor,d:"M 0, "+5/t.scaleFactor+" L "+5/t.scaleFactor+",0"}})]),a("pattern",{attrs:{id:"Pg_jJ",x:0,width:5/t.scaleFactor,height:5/t.scaleFactor,patternUnits:"userSpaceOnUse",patternTransform:"scale(1 "+t.scaleFactor+")"}},[a("rect",{attrs:{x:"0",width:"5",height:"5",y:"0",fill:"#aa0000"}}),a("path",{attrs:{stroke:"white","stroke-width":.5/t.scaleFactor,d:"M 0, "+5/t.scaleFactor+" L "+5/t.scaleFactor+",0"}})]),a("pattern",{attrs:{id:"PglL",x:0,width:5/t.scaleFactor,height:5/t.scaleFactor,patternUnits:"userSpaceOnUse",patternTransform:"scale(1 "+t.scaleFactor+")"}},[a("rect",{attrs:{x:"0",width:"5",height:"5",y:"0",fill:"#3399cc"}}),a("path",{attrs:{stroke:"white","stroke-width":.5/t.scaleFactor,d:"M 0, "+5/t.scaleFactor+" L "+5/t.scaleFactor+",0"}})]),a("pattern",{attrs:{id:"Pjn",x:0,width:5/t.scaleFactor,height:5/t.scaleFactor,patternUnits:"userSpaceOnUse",patternTransform:"scale(1 "+t.scaleFactor+")"}},[a("rect",{attrs:{x:"0",width:"5",height:"5",y:"0",fill:"#888800"}}),a("path",{attrs:{stroke:"white","stroke-width":.5/t.scaleFactor,d:"M 0, "+5/t.scaleFactor+" L "+5/t.scaleFactor+",0"}})]),a("pattern",{attrs:{id:"Pjj",x:0,width:5/t.scaleFactor,height:5/t.scaleFactor,patternUnits:"userSpaceOnUse",patternTransform:"scale(1 "+t.scaleFactor+")"}},[a("rect",{attrs:{x:"0",width:"5",height:"5",y:"0",fill:"#CC8800"}}),a("path",{attrs:{stroke:"white","stroke-width":.5/t.scaleFactor,d:"M 0, "+5/t.scaleFactor+" L "+5/t.scaleFactor+",0"}})]),a("pattern",{attrs:{id:"Pll",x:0,width:5/t.scaleFactor,height:5/t.scaleFactor,patternUnits:"userSpaceOnUse",patternTransform:"scale(1 "+t.scaleFactor+")"}},[a("rect",{attrs:{x:"0",width:"5",height:"5",y:"0",fill:"#173a6e"}}),a("path",{attrs:{stroke:"white","stroke-width":.5/t.scaleFactor,d:"M 0, "+5/t.scaleFactor+" L "+5/t.scaleFactor+",0"}})]),a("pattern",{attrs:{id:"Pln",x:0,width:5/t.scaleFactor,height:5/t.scaleFactor,patternUnits:"userSpaceOnUse",patternTransform:"scale(1 "+t.scaleFactor+")"}},[a("rect",{attrs:{x:"0",width:"5",height:"5",y:"0",fill:"#666644"}}),a("path",{attrs:{stroke:"white","stroke-width":.5/t.scaleFactor,d:"M 0, "+5/t.scaleFactor+" L "+5/t.scaleFactor+",0"}})])])])}),ot=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-header"},[a("p",[t._v("Stats")])])}],lt=a("5698"),ut=a("2ef0"),dt={T:"red",G:"orange",A:"green",C:"blue",X:"black"},ht={name:"Plot",props:{data:Array,referenceSeq:String,info:Array,margin:{type:Object,default:function(){return{left:25,right:5,top:10,bottom:25}}}},data:function(){return{width:0,height:0,paths:{line:{"5p":""},rects:{},area:{gg:"",g_g:"",gj:"",gl_l:"",gl_g:""},selector:""},lastHoverPoint:{},scaled:{x:lt.scaleLinear().range([0,0]),y:null},axis:{x:null,y:null},transform:{x:0,y:0},points:[],stacks:[],filterdStacks:[],selections:{svg:null,gx:null,gy:null},zoom:null,scaleFactor:1,baseFactor:100,fills:{gg:"#999999",gn:"#888800",g_g:"#db1a1a",g_jG:"#aa0000",g_jJ:"url(#Pg_jJ)",gjJ:"url(#PgjJ)",gjG:"#fc8803",glL:"url(#PglL)",glG:"#b707e3",jn:"url(#Pjn)",jj:"url(#Pjj)",jlJ:"url(#PgjJ)",jlL:"url(#PgjJ)",j_j3:"#FFFF00",j_j5:"#FF00FF",ln:"url(#Pln)",ll:"url(#Pll)"},hoverPointStats:null,snps:[],orientations:["gg","jj","ll","gn","jn","ln","g_g","g_jG","g_jJ","gjG","gjJ","glL","glG","jlJ","jlL","j_j5","j_j3"],scaleToStack:!1,order:lt.stackOrderDescending,offset:lt.stackOffsetNone,type:"stacked"}},computed:{padded:function(){var t=this.width-this.margin.left-this.margin.right,e=this.height-this.margin.top-this.margin.bottom;return{width:t,height:e}}},mounted:function(){var t=this;this.$root.$on("updatedOrientations",(function(e){t.orientations=e,t.initialize(),t.update()})),this.$root.$on("updateChartType",(function(e){"stacked"===e?(t.order=lt.stackOrderDescending,t.offset=lt.stackOffsetNone,t.scaleToStack=!1):"stream"===e&&(t.order=lt.stackOrderInsideOut,t.offset=lt.stackOffsetSilhouette,t.scaleToStack=!0),t.type!==e&&(t.type=e,t.initialize(),t.update())})),window.addEventListener("resize",this.onResize),this.onResize(),this.initialize()},watch:{width:function(){this.initialize(),this.update()},height:function(){this.initialize(),this.update()},data:function(){this.initialize(),this.update()}},methods:{createLine:function(t){var e=this,a=lt.line().curve(lt.curveStep).x((function(t){return e.scaled.x(t.x)})).y((function(t){return e.scaled.y(t.y)}));return a(t)},createArea:function(t){var e=this,a=lt.area().curve(lt.curveStep).x((function(t){return e.scaled.x(t.data.key)})).y0((function(t){return e.scaled.y(t[0])})).y1((function(t){return e.scaled.y(t[1])}));return a(t)},createValueSelector:function(t){var e=this,a=this.scaleToStack?t[0].total/2:0,n=[{y:t[0].total,x:t[0].key-.5},{y:t[0].total,x:t[0].key+.5}],s=lt.area().x((function(t){return e.scaled.x(t.x)})).y0((function(){return e.scaled.y(0-a)})).y1((function(t){return e.scaled.y(t.y-a)}));return s(n)},onResize:function(){this.width=this.$el.offsetWidth,this.height=this.$el.offsetHeight},initialize:function(){var t=this;this.selections.svg=lt.select(this.$el.querySelector("svg")),this.selections.svg.select(".snpbases").selectAll("rect").remove(),this.selections.svg.select(".bases").selectAll("rect").remove(),this.selections.gx=this.selections.svg.select(".axis--x"),this.selections.gy=this.selections.svg.select(".axis--y"),this.scaled.x=lt.scaleLinear().range([0,this.padded.width]),this.scaled.y=lt.scaleLinear().range([this.padded.height,0]),this.scaled.x.domain(lt.extent(this.data,(function(t,e){return e}))),this.stacks=lt.stack().order(this.order).offset(this.offset).keys(this.orientations).value((function(t,e){return t.classes[e]}))(this.data),this.paths.area={},ut.forEach(this.orientations,(function(e){t.paths.area[e]=""})),this.scaleToStack?this.scaled.y.domain([lt.min(this.stacks,(function(t){return 1.05*lt.min(t,(function(t){return t[0]}))})),lt.max(this.stacks,(function(t){return 1.05*lt.max(t,(function(t){return t[1]}))}))]):this.scaled.y.domain([0,1.05*lt.max(ut.map(this.data,(function(t){return t.total})))]),this.axis.x=lt.axisTop().scale(this.scaled.x).ticks(this.padded.width/1e3*5,"~s").tickSize(-this.padded.height).tickPadding(-this.padded.height-10);var e=Math.floor(this.scaled.y.domain()[1])||0;this.axis.y=lt.axisLeft().scale(this.scaled.y).ticks(e/8>1?8:e,"~s").tickSize(-this.padded.width).tickPadding(.25*this.margin.left),this.selections.svg&&(this.selections.gx.call(this.axis.x),this.selections.gy.call(this.axis.y));var a=10,n=a/this.width*Math.abs(this.scaled.x.domain()[1]-this.scaled.x.domain()[0]);this.baseFactor=8/this.width*Math.abs(this.scaled.x.domain()[1]-this.scaled.x.domain()[0]),this.zoom=lt.zoom().scaleExtent([1,n]).translateExtent([[0,0],[this.width,0]]).extent([[0,0],[this.width,0]]).on("zoom",this.zoomed),this.selections.svg.call(this.zoom.transform,lt.zoomIdentity),this.selections.svg.call(this.zoom),this.snps=[],ut.forEach(this.data.slice(1),(function(e,a){var n=ut.chain(e.bpStat).entries().maxBy(1).value();n[1]>0&&n[0].toUpperCase()!==t.referenceSeq.charAt(a).toUpperCase()&&t.snps.push({x:a,snp:n[0]})})),this.paths.rects=this.info},update:function(){var t=this;this.points=this.stacks,ut.forEach(this.orientations,(function(e,a){t.paths.area[e]=t.createArea(t.points[a])}))},mouseover:function(t){var e=t.offsetX,a=t.offsetY;if(this.data.length>0){var n=this.scaled.x.invert((e-this.margin.left-this.transform.x)/this.scaleFactor),s=this.getClosestPoint(n);if(this.lastHoverPoint.index!==s.index){var i=this.data[s.index];this.paths.selector=this.createValueSelector([i]),this.hoverPointStats=i}this.lastHoverPoint=s,this.lastHoverPoint.offsetY=a,this.lastHoverPoint.offsetX=e}},getClosestPoint:function(t){return this.data.map((function(e,a){return{x:e.key,diff:Math.abs(e.key-t),index:a}})).reduce((function(t,e){return t.diff<e.diff?t:e}))},zoomed:function(){this.transform.x=lt.event.transform.x,this.transform.y=lt.event.transform.y,this.scaleFactor=lt.event.transform.k,this.selections.gx.call(this.axis.x.scale(lt.event.transform.rescaleX(this.scaled.x)));var t=lt.event.transform.rescaleX(this.scaled.x),e=t.domain(),a=[],n=[],s=Math.max(e[0]-4,0);this.scaleFactor>this.baseFactor&&(a=ut.slice(this.referenceSeq,Math.floor(s),Math.floor(e[1]+5)),n=ut.filter(this.snps,(function(t){return t.x<=e[1]&&t.x>=e[0]})));var i=this.selections.svg.select(".snpbases").selectAll("rect").data(n);i.enter().append("rect").attr("x",(function(e){return t(e.x)})).attr("y",this.padded.height+13).attr("height",5).attr("width",t(1)-t(0)).style("fill",(function(t){return dt[t.snp.toUpperCase()]})),i.attr("x",(function(e){return t(e.x+.5)})).attr("y",this.padded.height+13).attr("height",5).attr("width",t(1)-t(0)).style("fill",(function(t){return dt[t.snp.toUpperCase()]})),i.exit().remove();var r=this.selections.svg.select(".bases").selectAll("rect").data(a);r.enter().append("rect").attr("x",(function(e,a){return t(a+Math.floor(s))})).attr("y",this.padded.height+19).attr("height",5).attr("width",t(1)-t(0)).style("fill",(function(t){return dt[t.toUpperCase()]})),r.attr("x",(function(e,a){return t(a+.5+Math.floor(s))})).attr("y",this.padded.height+19).attr("height",5).attr("width",t(1)-t(0)).style("fill",(function(t){return dt[t.toUpperCase()]})),r.exit().remove()}}},pt=ht,ft=(a("e7c7"),Object(r["a"])(pt,ct,ot,!1,null,null,null)),mt=ft.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{overflow:"scroll",height:"100%","white-space":"pre"}},[a("table",{staticClass:"table is-fullwidth is-hoverable is-narrow table is-family-monospace"},[a("thead",[a("tr",[a("th",{staticClass:"sticky has-text-dark has-background-white is-size-6",domProps:{innerHTML:t._s(t.referenceSeq)}})])]),a("tbody",{staticClass:"is-size-6"},t._l(t.data,(function(e,n){return a("tr",{key:n},[a("td",[a("span",{domProps:{innerHTML:t._s(e)}})])])})),0)])])},vt=[],_t={name:"BaseReadView",props:{data:Array,referenceSeq:String}},yt=_t,xt=(a("a47a"),Object(r["a"])(yt,gt,vt,!1,null,null,null)),bt=xt.exports,jt=a("bc3a"),wt=a("1db0"),St=wt.RemoteFile,kt=a("8e92"),Lt=kt.IndexedCramFile,Ot=kt.CraiIndex,Pt=a("d0dd"),Ct=Pt.getReads,Ft=Pt.loadCramRecords,Jt=a("217f"),Et=Jt.IndexedFasta,At={name:"Visualization",props:{locus:String,group:String},components:{Plot:mt,BaseReadView:bt},data:function(){return{data:[],histData:[],referenceSeq:"",fullReferenceSeq:"",index_start:1,index_end:2,meStart:1,meEnd:1,meFivePrime:1,meThreePrime:1,meStrand:"-",readLength:100,indexedFile:null,publicPath:"",active:"histogram",fasta:null,aesthetics:{}}},mounted:function(){var t=this;this.$root.$on("updatedView",(function(e){var a="class='is-uppercase'",n="class='is-lowercase'";"histogram"===e?(t.data=t.histData,t.referenceSeq=t.fullReferenceSeq,t.active=e):"5p_junction"===e?Ct(t.indexedFile,t.meFivePrime,5,t.readLength+50).then((function(s){t.data=null,t.data=s,t.active=e,t.fasta.getSequenceList().then((function(e){var s=e[0];t.fasta.getSequence(s,t.meFivePrime-(t.readLength+50),t.meFivePrime+(t.readLength+50)).then((function(e){t.referenceSeq="<span "+("+"==t.meStrand?a:n)+">"+e.slice(0,t.readLength+49)+"</span><span "+("+"==t.meStrand?n:a)+">"+e.slice(t.readLength+49)+"<span>"}))}))})):"3p_junction"===e&&Ct(t.indexedFile,t.meThreePrime,5,t.readLength+50).then((function(s){t.data=null,t.data=s,t.active=e,t.fasta.getSequenceList().then((function(e){var s=e[0];t.fasta.getSequence(s,t.meThreePrime-(t.readLength+50),t.meThreePrime+(t.readLength+50)).then((function(e){t.referenceSeq="<span "+("+"==t.meStrand?n:a)+">"+e.slice(0,t.readLength+49)+"</span><span "+("+"==t.meStrand?a:n)+">"+e.slice(t.readLength+49)+"<span>"}))}))}))}))},watch:{locus:function(){var t=this;if(this.locus){var e=null;jt.get(this.publicPath+"data/".concat(this.group,"/meta/").concat(this.locus,".json")).then((function(e){t.meStrand=e.data.me_strand,t.aesthetics=e.data.regions;var a={chrom:"undefined",fivePTS:"N/A",fivePTE:"N/A",threePTS:"undefined",threePTE:"undefined",L1RS:"undefined",L1RE:"undefined"};null!=e.data.target_5p&&null==e.data.target_3p?(t.index_end=e.data.target_5p[1]-e.data.target_5p[0]+(e.data.me_end-e.data.me_start),t.meStart=e.data.target_5p[1]-e.data.target_5p[0],t.meEnd=t.meStart+e.data.me_end-e.data.me_start+1e3,t.meThreePrime=t.meStart,a.threePTS=e.data.target_5p[0],a.threePTE=e.data.target_5p[1],a.L1RS=e.data.me_start,a.L1RE=e.data.me_end):null==e.data.target_5p&&null!=e.data.target_3p?(t.meStart=-1e3,t.meEnd=e.data.me_end-e.data.me_start,t.index_end=e.data.target_3p[1]-e.data.target_3p[0]+(e.data.me_end-e.data.me_start),t.meThreePrime=t.meEnd,a.threePTS=e.data.target_3p[0],a.threePTE=e.data.target_3p[1],a.L1RS=e.data.me_start,a.L1RE=e.data.me_end):(t.index,t.index_end=e.data.target_3p[1]-e.data.target_5p[0]+e.data.me_end-e.data.me_start,t.meStart=e.data.target_5p[1]-e.data.target_5p[0]+1,t.meEnd=t.meStart+e.data.me_end-e.data.me_start+1,t.meFivePrime="+"===e.data.me_strand?t.meStart:t.meEnd,t.meThreePrime="+"===e.data.me_strand?t.meEnd:t.meStart,a.fivePTS=e.data.target_5p[0],a.fivePTE=e.data.target_5p[1],a.threePTS=e.data.target_3p[0],a.threePTE=e.data.target_3p[1],a.L1RS=e.data.me_start,a.L1RE=e.data.me_end,a.info=e.data.info),a.chrom=e.data.chromosome,t.readLength=e.data.read_length||500,t.$root.$emit("setType",e.data.type),t.$root.$emit("updateStats",a)})).catch((function(a){e=a,alert("".concat(t.locus.replace("_",":")," not found")),t.$router.push({})})).finally((function(){if(!e){t.data=[];var a=new Et({fasta:new St(t.publicPath+"data/".concat(t.group,"/fasta/").concat(t.locus,".fasta")),fai:new St(t.publicPath+"data/".concat(t.group,"/fasta/").concat(t.locus,".fasta.fai"))});t.fasta=a,t.fasta.getSequenceList().then((function(e){var a=e[0];t.fasta.getSequence(a,t.index_start-1,t.index_end+1).then((function(e){t.referenceSeq=e,t.fullReferenceSeq=e}))})),t.indexedFile=new Lt({cramFilehandle:new St(t.publicPath+"data/".concat(t.group,"/cram/").concat(t.locus,".cram")),index:new Ot({filehandle:new St(t.publicPath+"data/".concat(t.group,"/cram/").concat(t.locus,".cram.crai"))}),seqFetch:function(t,e,n){var s,i;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(a.getSequenceList());case 2:return s=t.sent[0],t.next=5,regeneratorRuntime.awrap(a.getSequence(s,e-1,n));case 5:return i=t.sent,t.abrupt("return",i);case 7:case"end":return t.stop()}}))},checkSequenceMD5:!1}),Ft(t.indexedFile,t.index_start,t.index_end,t.meStart,t.meEnd,t.readLength).then((function(e){t.data=e,t.histData=e})).catch((function(t){console.error("Error loading cram record",t)})).finally((function(){t.$root.$emit("resetView")}))}}))}}},computed:{dynamicComponent:function(){switch(this.active){case"histogram":return mt;case"5p_junction":return bt;case"3p_junction":return bt}return"component-unknown"}}},Gt=At,Tt=(a("0616"),Object(r["a"])(Gt,it,rt,!1,null,"059fa05e",null)),$t=Tt.exports,Rt=a("2ef0"),qt={name:"dashboard",data:function(){return{locus:"",group:""}},components:{BaseUI:st,BaseTable:O,Visualization:$t},mounted:function(){this.group=Rt.join(Rt.values(this.$route.params),"/"),this.$route.query.locus&&(this.locus=this.$route.query.locus.replace("-","_"))},methods:{changeLoci:function(t){this.locus=t.replace(":","_")}},watch:{$route:function(){this.group=Rt.join(Rt.values(this.$route.params),"/"),this.$route.query.locus?this.locus=this.$route.query.locus.replace("-","_"):this.locus=""}}},Nt=qt,zt=(a("2b56"),Object(r["a"])(Nt,_,y,!1,null,null,null)),It=zt.exports;n["a"].use(u["a"]);var Ut=new u["a"]({routes:[{path:"/",name:"home",component:v},{path:"/dashboard/:group1/:group2/:sample/",name:"dashboard",component:It,props:!0,query:{locus:""}}]});n["a"].config.productionTip=!1,new n["a"]({router:Ut,render:function(t){return t(l)}}).$mount("#app")},"815b":function(t,e,a){"use strict";var n=a("1a0c"),s=a.n(n);s.a},"85ec":function(t,e,a){},a10e:function(t,e,a){},a47a:function(t,e,a){"use strict";var n=a("dee7"),s=a.n(n);s.a},d0dd:function(t,e,a){"use strict";a.r(e),a.d(e,"loadCramRecords",(function(){return l})),a.d(e,"getReads",(function(){return u}));a("a15b"),a("d81d"),a("fb6a"),a("4e82"),a("d3b7"),a("5377"),a("38cf"),a("4c53"),a("159b"),a("96cf");var n=a("2ef0");function s(t){var e=t.alignmentStart,a=t.alignmentStart,n=a+t.lengthOnRef,s=n,i=t.getReadBases();return void 0!=t.readFeatures&&t.readFeatures.reverse().forEach((function(t){"S"===t.code?i=1===t.pos?i.slice(t.pos-1+t.data.length):i.slice(0,t.pos-1):"X"===t.code||("D"===t.code?i=i.slice(0,t.pos-1)+"X".repeat(t.data)+i.slice(t.pos-1):"I"===t.code?i=i.slice(0,t.pos-1)+i.slice(t.pos-1+t.data.length):"i"===t.code?i=i.slice(0,t.pos-1)+i.slice(t.pos-1+t.data.length):console.log("UNSEEN REFERENCE FLAG",t))})),{aStart:e,aEnd:n,bases:i,rStart:a,rEnd:s}}function i(t,e){var a=void 0==t?void 0:s(t),n=void 0==e?void 0:s(e);return[a,n]}function r(t,e,a){return t.aStart<=e&&t.aEnd<=e?"G5":t.aStart>=a&&t.aEnd>=a?"G3":e<t.aStart&&t.aEnd<a?"L":t.aStart<=e&&t.aEnd>=e?"J5":t.aStart<=a&&t.aEnd>=a?"J3":null}var c={"unmapped|G5":["unmapped","gn"],"unmapped|G3":["unmapped","gn"],"unmapped|J5":["unmapped","jn"],"unmapped|L":["unmapped","ln"],"unmapped|J3":["unmapped","jn"],"G5|G5":["gg","gg"],"G5|J5":["gjG","gjJ"],"G5|L":["glG","glL"],"G5|J3":["g_jG","g_jJ"],"G5|G3":["g_g","g_g"],"G5|unmapped":["gn","unmapped"],"J5|G5":["gjJ","gjG"],"J5|J5":["jj","jj"],"J5|L":["jlJ","jlL"],"J5|J3":["j_j","j_j"],"J5|G3":["g_jJ","g_jG"],"J5|unmapped":["jn","unmapped"],"L|G5":["glL","glG"],"L|J5":["jlL","jlJ"],"L|L":["ll","ll"],"L|J3":["jlL","jlJ"],"L|G3":["glL","glG"],"L|unmapped":["ln","unmapped"],"J3|G5":["g_jJ","g_jG"],"J3|J5":["j_j","j_j"],"J3|L":["jlJ","jlL"],"J3|J3":["jj","jj"],"J3|G3":["gjJ","gjG"],"J3|unmapped":["jn","unmapped"],"G3|G5":["g_g","g_g"],"G3|J5":["g_jG","g_jJ"],"G3|L":["glG","glL"],"G3|J3":["gjG","gjJ"],"G3|G3":["gg","gg"],"G3|unmapped":["gn","unmapped"]};function o(t,e,a){var n=null!=t[0]?r(t[0],e,a):"unmapped",s=null!=t[1]?r(t[1],e,a):"unmapped",i=c[n+"|"+s]||["unmapped","unmapped"];return"unmapped"===i[0]&&"unmapped"===i[1]&&console.log("double unmapped",e,a,n,s,t),i}function l(t,e,a,s,r,c){var l,u;return regeneratorRuntime.async((function(d){while(1)switch(d.prev=d.next){case 0:if(null==t){d.next=7;break}return d.next=3,regeneratorRuntime.awrap(t.getRecordsForRange(0,e,a));case 3:return l=d.sent,u=n.map(Array(c+a-e),(function(t,e){return{total:0,bpStat:{A:0,C:0,G:0,T:0,N:0,X:0},key:e,classes:{gg:0,jj:0,ll:0,gn:0,jn:0,ln:0,g_g:0,g_jG:0,g_jJ:0,gjG:0,gjJ:0,glL:0,glG:0,jlJ:0,jlL:0,j_j5:0,j_j3:0}}})),n.chain(l).groupBy((function(t){return t.readName})).forEach((function(t,e){1==t.length?(64&t[0].flags&&(t=[t[0],void 0]),128&t[0].flags&&(t=[void 0,t[0]])):t=t.sort((function(t){return t.alignmentStart}));var a=i(t[0],t[1]),c=o(a,s,r),l=a[0],d=c[0];l&&n.forEach(l.bases,(function(t,e){"unmapped"!==d&&("X"!==t&&(u[l.aStart+e].classes[d]+=1),u[l.aStart+e].bpStat[t]+=1,u[l.aStart+e].total+=1)})),l=a[1],d=c[1],l&&n.forEach(l.bases,(function(t,e){"unmapped"!==d&&("X"!==t&&(u[l.aStart+e].classes[d]+=1),u[l.aStart+e].bpStat[t]+=1,u[l.aStart+e].total+=1)}))})).value(),d.abrupt("return",u);case 7:case"end":return d.stop()}}))}function u(t,e,a,s){var i,r,c,o;return regeneratorRuntime.async((function(l){while(1)switch(l.prev=l.next){case 0:if(i=e-a,r=e+a,null==t){l.next=8;break}return l.next=5,regeneratorRuntime.awrap(t.getRecordsForRange(0,i,r));case 5:return c=l.sent,o=n.map(c,(function(t){var a=[],i=[],r=0,c=t.getReadBases();void 0!=t.readFeatures&&n.sortBy(t.readFeatures,(function(t){return t.pos})).reverse().forEach((function(t){"S"===t.code?(1===t.pos&&(r=t.data.length),c.slice(t.pos-1+t.data.length)&&a.unshift(["<span>",c.slice(t.pos-1+t.data.length),"</span>"]),a.unshift(["<span style='color: red'>",t.data,"</span>"])):"X"===t.code?(c.slice(t.pos)&&a.unshift(["<span>",c.slice(t.pos),"</span>"]),a.unshift(["<span style='color: orange;font-weight: bold'>",t.sub,"</span>"])):"D"===t.code?(c.slice(t.pos-1)&&a.unshift(["<span>",c.slice(t.pos-1),"</span>"]),a.unshift(["<span style='color: brown;font-weight: bold'>","X".repeat(t.data),"</span>"])):"I"===t.code||"i"===t.code?(c.slice(t.pos-1+t.data.length)&&a.unshift(["<span class='I'>",c.slice(t.pos-1+t.data.length),"</span>"]),i.push([a.length,t.data])):console.log("UNSEEN REFERENCE FLAG",t),c=c.slice(0,t.pos-1)})),a.unshift(["<span>",c,"</span>"]);var o=" ".repeat(s-1-(e-(t.alignmentStart-r))),l=a.length;return n.forEach(i,(function(t){var e=l-t[0],n=a[e][1][0];a[e][1]="<abbr title='"+n+"|"+t[1]+"'>"+n+"</abbr>"+a[e][1].slice(1)})),o+n.join(n.map(a,(function(t){return n.join(t,"")})),"")})),l.abrupt("return",o);case 8:case"end":return l.stop()}}))}},dee7:function(t,e,a){},e7c7:function(t,e,a){"use strict";var n=a("a10e"),s=a.n(n);s.a},fb98:function(t,e,a){}});
//# sourceMappingURL=app.800ea693.js.map